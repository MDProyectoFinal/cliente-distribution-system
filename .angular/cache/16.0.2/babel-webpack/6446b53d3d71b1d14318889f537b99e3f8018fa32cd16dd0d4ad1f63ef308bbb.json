{"ast":null,"code":"import _asyncToGenerator from \"C:/wamp/www/rosario-snack/cliente/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { UsuarioServices } from './services/usuario.services';\nimport { Usuario } from './models/usuario';\nimport { Persona } from './models/persona';\nimport { UsuarioPersona } from './models/usuarioPersona';\nimport { PersonaServices } from './services/persona.services';\nimport { GLOBAL } from './services/global';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/usuario.services\";\nimport * as i2 from \"./services/persona.services\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/router\";\nconst _c0 = function () {\n  return [\"/\"];\n};\nconst _c1 = function () {\n  return [\"/inicio\"];\n};\nconst _c2 = function () {\n  return [\"actived\"];\n};\nconst _c3 = function () {\n  return [\"/pedidos\"];\n};\nconst _c4 = function () {\n  return [\"/mis-datos\"];\n};\nfunction AppComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"h1\", 4)(2, \"a\", 5)(3, \"span\", 6);\n    i0.ɵɵelement(4, \"i\", 7);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"nav\", 8)(7, \"a\", 9)(8, \"span\", 6);\n    i0.ɵɵelement(9, \"i\", 10);\n    i0.ɵɵtext(10, \" Inicio\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"a\", 11)(12, \"span\", 6);\n    i0.ɵɵelement(13, \"i\", 12);\n    i0.ɵɵtext(14, \" Buscar\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"a\", 9)(16, \"span\", 6);\n    i0.ɵɵelement(17, \"i\", 13);\n    i0.ɵɵtext(18, \" Pedidos\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"a\", 11)(20, \"span\", 6);\n    i0.ɵɵelement(21, \"i\", 14);\n    i0.ɵɵtext(22, \" Cuenta\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"a\", 11)(24, \"span\", 6);\n    i0.ɵɵelement(25, \"i\", 15);\n    i0.ɵɵtext(26, \" Informaci\\u00F3n\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"a\", 11)(28, \"span\", 6);\n    i0.ɵɵelement(29, \"i\", 16);\n    i0.ɵɵtext(30, \" Enviar Sugerencia\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"a\", 17);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_0_Template_a_click_31_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.logout());\n    });\n    i0.ɵɵelementStart(32, \"span\", 6);\n    i0.ɵɵelement(33, \"i\", 18);\n    i0.ɵɵtext(34, \" Cerrar Sesi\\u00F3n\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(35, \"nav\", 19)(36, \"div\", 20);\n    i0.ɵɵelement(37, \"img\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"span\", 22);\n    i0.ɵɵtext(39);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(40, \"br\")(41, \"br\");\n    i0.ɵɵelementStart(42, \"a\", 23)(43, \"span\", 6);\n    i0.ɵɵelement(44, \"i\", 13);\n    i0.ɵɵtext(45, \"Mis Datos\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(10, _c0));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.title, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(11, _c1))(\"routerLinkActive\", i0.ɵɵpureFunction0(12, _c2));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(13, _c3))(\"routerLinkActive\", i0.ɵɵpureFunction0(14, _c2));\n    i0.ɵɵadvance(22);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r0.url + \"obtener-archivo-imagen/\" + ctx_r0.identity.imagen, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.identity.nombre_usuario, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(15, _c4))(\"routerLinkActive\", i0.ɵɵpureFunction0(16, _c2));\n  }\n}\nfunction AppComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵelement(1, \"router-outlet\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_div_2_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 55)(2, \"strong\");\n    i0.ɵɵtext(3, \"\\u00A1Error! \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r5.errorMensaje, \" \");\n  }\n}\nfunction AppComponent_div_2_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" El email es obligatorio. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_div_2_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 55);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r10.alertaRegistro, \" \");\n  }\n}\nfunction AppComponent_div_2_span_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" El nombre es obligatorio. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_div_2_span_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" El apellido es obligatorio. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_div_2_span_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" La fecha de nacimiento es obligatorio. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_div_2_span_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" La direcci\\u00F3n es obligatoria. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_div_2_span_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" El tel\\u00E9fono es obligatorio. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_div_2_span_62_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" El nombre de usuario es obligatorio. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_div_2_span_68_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" La contrase\\u00F1a es obligatoria. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_div_2_span_74_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" El correo electr\\u00F3nico es obligatorio. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_div_2_span_80_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" El rol es obligatorio. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"div\", 26)(2, \"h1\");\n    i0.ɵɵtext(3, \"Identificate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, AppComponent_div_2_div_4_Template, 5, 1, \"div\", 27);\n    i0.ɵɵelementStart(5, \"form\", 28, 29);\n    i0.ɵɵlistener(\"ngSubmit\", function AppComponent_div_2_Template_form_ngSubmit_5_listener() {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.onSubmit());\n    });\n    i0.ɵɵelementStart(7, \"p\")(8, \"label\");\n    i0.ɵɵtext(9, \"Correo electr\\u00F3nico:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"input\", 30, 31);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_div_2_Template_input_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r32 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r32.usuario.email = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, AppComponent_div_2_span_12_Template, 2, 0, \"span\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\")(14, \"label\");\n    i0.ɵɵtext(15, \"Contrase\\u00F1a:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"input\", 32, 33);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_div_2_Template_input_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r33.usuario.clave = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(18, \"input\", 34);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(19, \"hr\");\n    i0.ɵɵelementStart(20, \"div\", 26)(21, \"h1\");\n    i0.ɵɵtext(22, \"Registrate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(23, AppComponent_div_2_div_23_Template, 3, 1, \"div\", 27);\n    i0.ɵɵelementStart(24, \"form\", 28, 35);\n    i0.ɵɵlistener(\"ngSubmit\", function AppComponent_div_2_Template_form_ngSubmit_24_listener() {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.onSubmitRegistro());\n    });\n    i0.ɵɵelementStart(26, \"p\")(27, \"label\");\n    i0.ɵɵtext(28, \"Nombre/s:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"input\", 36, 37);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_div_2_Template_input_ngModelChange_29_listener($event) {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r35 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r35.usuario_persona_registro.persona.nombre = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(31, AppComponent_div_2_span_31_Template, 2, 0, \"span\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"p\")(33, \"label\");\n    i0.ɵɵtext(34, \"Apellido:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"input\", 38, 39);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_div_2_Template_input_ngModelChange_35_listener($event) {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r36 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r36.usuario_persona_registro.persona.apellido = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(37, AppComponent_div_2_span_37_Template, 2, 0, \"span\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"p\")(39, \"label\");\n    i0.ɵɵtext(40, \"Fecha Nacimiento:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"input\", 40, 41);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_div_2_Template_input_ngModelChange_41_listener($event) {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r37 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r37.usuario_persona_registro.persona.fecha_nacimiento = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(43, AppComponent_div_2_span_43_Template, 2, 0, \"span\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"p\")(45, \"label\");\n    i0.ɵɵtext(46, \"Direcci\\u00F3n:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(47, \"input\", 42, 43);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_div_2_Template_input_ngModelChange_47_listener($event) {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r38 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r38.usuario_persona_registro.persona.direccion = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(49, AppComponent_div_2_span_49_Template, 2, 0, \"span\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"p\")(51, \"label\");\n    i0.ɵɵtext(52, \"Tel\\u00E9fono:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"input\", 44, 45);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_div_2_Template_input_ngModelChange_53_listener($event) {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r39 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r39.usuario_persona_registro.persona.telefono = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(55, AppComponent_div_2_span_55_Template, 2, 0, \"span\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(56, \"br\");\n    i0.ɵɵelementStart(57, \"p\")(58, \"label\");\n    i0.ɵɵtext(59, \"Nombre Usuario:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(60, \"input\", 46, 47);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_div_2_Template_input_ngModelChange_60_listener($event) {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r40 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r40.usuario_persona_registro.nombre_usuario = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(62, AppComponent_div_2_span_62_Template, 2, 0, \"span\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(63, \"p\")(64, \"label\");\n    i0.ɵɵtext(65, \"Contrase\\u00F1a:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(66, \"input\", 48, 49);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_div_2_Template_input_ngModelChange_66_listener($event) {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r41 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r41.usuario_persona_registro.password = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(68, AppComponent_div_2_span_68_Template, 2, 0, \"span\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(69, \"p\")(70, \"label\");\n    i0.ɵɵtext(71, \"Email:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(72, \"input\", 50, 51);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_div_2_Template_input_ngModelChange_72_listener($event) {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r42 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r42.usuario_persona_registro.correo_electronico = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(74, AppComponent_div_2_span_74_Template, 2, 0, \"span\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(75, \"p\")(76, \"label\");\n    i0.ɵɵtext(77, \"Rol:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(78, \"input\", 52, 53);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_div_2_Template_input_ngModelChange_78_listener($event) {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r43 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r43.usuario_persona_registro.rol = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(80, AppComponent_div_2_span_80_Template, 2, 0, \"span\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(81, \"input\", 54);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const _r7 = i0.ɵɵreference(11);\n    const _r12 = i0.ɵɵreference(30);\n    const _r14 = i0.ɵɵreference(36);\n    const _r16 = i0.ɵɵreference(42);\n    const _r18 = i0.ɵɵreference(48);\n    const _r20 = i0.ɵɵreference(54);\n    const _r22 = i0.ɵɵreference(61);\n    const _r24 = i0.ɵɵreference(67);\n    const _r26 = i0.ɵɵreference(73);\n    const _r28 = i0.ɵɵreference(79);\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.errorMensaje);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.usuario.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !_r7.valid && _r7.touched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.usuario.clave);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.alertaRegistro);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.usuario_persona_registro.persona.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !_r12.valid && _r12.touched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.usuario_persona_registro.persona.apellido);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !_r14.valid && _r14.touched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.usuario_persona_registro.persona.fecha_nacimiento);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !_r16.valid && _r16.touched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.usuario_persona_registro.persona.direccion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !_r18.valid && _r18.touched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.usuario_persona_registro.persona.telefono);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !_r20.valid && _r20.touched);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.usuario_persona_registro.nombre_usuario);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !_r22.valid && _r22.touched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.usuario_persona_registro.password);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !_r24.valid && _r24.touched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.usuario_persona_registro.correo_electronico);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !_r26.valid && _r26.touched);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.usuario_persona_registro.rol);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !_r28.valid && _r28.touched);\n  }\n}\nlet AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(_usuarioServices, _personaServices) {\n      this._usuarioServices = _usuarioServices;\n      this._personaServices = _personaServices;\n      this.title = 'DistributionSystem';\n      // public persona: Persona;\n      this.identity = null; // Datos del usuario identificado ahi dentro. Guardado en localStorage\n      this.token = null;\n      this.errorMensaje = \"\";\n      this.alertaRegistro = \"\";\n      this.usuario = new Usuario('', '', '', '', '', 'ROLE_USER', '', new Date(), new Date(), false);\n      // this.persona = new Persona('','','','','','','');  \n      this.url = GLOBAL.url;\n      // Opcion 1\n      this.usuario_persona_registro = new UsuarioPersona('', new Persona('', '', '', '', '', ''), '', '', '', 'ROLE_USER', '');\n      // Opcion 2\n      //this.usuario_persona_registro2 = ['','','','','','','','','','',''] // Datos de usuario y persona mezclados\n      this.usuario_persona_guardada = null;\n    }\n    // Ni bien carga el componente\n    ngOnInit() {\n      //this.identity = this._usuarioServices.getIdentity(); // \"\"    \n      this.identity = JSON.parse(this._usuarioServices.getIdentity()); // Convertir la cadena JSON en un objeto JavaScript\n      this.token = this._usuarioServices.getToken();\n    }\n    onSubmitRegistro() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        console.log(_this.usuario_persona_registro);\n        try {\n          const response = yield _this._personaServices.guardarPersona(_this.usuario_persona_registro);\n          // response.persona._id\n          if (response.persona._id) {\n            let usuarioGuar = response.usuario;\n            let personaGuar = response.persona;\n            // Seteamos la carga completa de la persona en la variable correspondiente\n            _this.usuario_persona_guardada = new UsuarioPersona(usuarioGuar._id, new Persona(personaGuar._id, personaGuar.nombre, personaGuar.apellido, personaGuar.fecha_nacimiento, personaGuar.direccion, personaGuar.telefono), usuarioGuar.nombre_usuario, usuarioGuar.clave, usuarioGuar.email, usuarioGuar.rol, usuarioGuar.imagen);\n            _this.alertaRegistro = 'El registro se ha realizado correctamente. Por favor ' + _this.usuario_persona_guardada.persona.nombre + ', identifícate en la pantalla de logueo con tu email: ' + _this.usuario_persona_guardada.correo_electronico + '.';\n            // Vaciamos las variables de registro\n            _this.usuario_persona_registro = new UsuarioPersona('', new Persona('', '', '', '', '', ''), '', '', '', 'ROLE_USER', '');\n            _this.usuario_persona_guardada = null;\n          } else {\n            _this.alertaRegistro = 'Error al guardar la persona/usuario.';\n          }\n        } catch (error) {\n          _this.alertaRegistro = error;\n        }\n      })();\n    }\n    onSubmit() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        //console.log(this.usuario);\n        console.log({\n          usuario: _this2.usuario,\n          message: \"Usuario en AppComponent.componente:\"\n        });\n        try {\n          // Conseguimos los datos del USUARIO IDENTIFICADO\n          const response = yield _this2._usuarioServices.signUp(_this2.usuario).then(usuarioEncontrado => {\n            console.log(usuarioEncontrado); // Imprimir el objeto de usuario en la consola          \n            // Realizar otras operaciones con el objeto de usuario aquí\n            _this2.errorMensaje = \"\";\n            let identity = usuarioEncontrado;\n            _this2.identity = identity;\n            if (!_this2.identity._id) {\n              alert(\"El usuario no está correctamente logueado\");\n            } else {\n              // Crear elemento en el localstorage para tener al usuario sesión\n              localStorage.setItem('identity', JSON.stringify(_this2.identity));\n              // FORMA 1!!!!!!!\n              _this2._usuarioServices.signUp(_this2.usuario, true).then( /*#__PURE__*/function () {\n                var _ref = _asyncToGenerator(function* (data) {\n                  _this2.token = data.token.toString();\n                  if (_this2.token.length <= 0) {\n                    alert('El token no fue generado correctamente');\n                  } else {\n                    // Buscamos la persona asociada al usuario logueado\n                    const response2 = yield _this2._personaServices.obtenerPersona(_this2.identity.persona, _this2.token);\n                    var personaEncontrada = response2.user[0];\n                    // Actualizamos el \"identity\" con los datos tambien de la persona. Quedando UsuarioPersona.                \n                    let usuarioPersona = new UsuarioPersona('', new Persona('', '', '', '', '', ''), '', '', '', 'ROLE_USER', '');\n                    usuarioPersona.persona = personaEncontrada;\n                    usuarioPersona._id = _this2.identity._id;\n                    usuarioPersona.correo_electronico = _this2.identity.email;\n                    usuarioPersona.nombre_usuario = _this2.identity.nombre_usuario;\n                    usuarioPersona.password = _this2.identity.clave;\n                    usuarioPersona.rol = _this2.identity.rol;\n                    usuarioPersona.imagen = _this2.identity.imagen;\n                    _this2.identity = usuarioPersona;\n                    // ACTUALIZAMOS elemento en el localstorage para tener al usuario sesión\n                    localStorage.setItem('identity', JSON.stringify(_this2.identity));\n                    // Crear elemento en el localstorage para tener el token del usuario logueado\n                    localStorage.setItem('token', _this2.token);\n                    _this2.usuario = new Usuario('', '', '', '', '', 'ROLE_USER', '', new Date(), new Date(), false);\n                    // Conseguir el TOKEN para enviarselo a cada petición HTTP\n                  }\n                  // Realiza otras operaciones con el objeto de usuario aquí\n                });\n                return function (_x) {\n                  return _ref.apply(this, arguments);\n                };\n              }()).catch(error => {\n                console.error('Error al obtener el usuario:', error);\n              });\n            }\n          }).catch(error => {\n            _this2.errorMensaje = error;\n            console.error('Error al obtener el usuario:', error);\n          });\n        } catch (error) {\n          _this2.errorMensaje = error;\n          console.error('Ocurrió un error el OnSubmit:', error);\n        }\n      })();\n    }\n    logout() {\n      localStorage.removeItem('identity');\n      localStorage.removeItem('token');\n      localStorage.clear();\n      this.identity = null;\n      this.token = null;\n      this.errorMensaje = \"\";\n      this.alertaRegistro = \"\";\n    }\n  }\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.UsuarioServices), i0.ɵɵdirectiveInject(i2.PersonaServices));\n  };\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    features: [i0.ɵɵProvidersFeature([UsuarioServices, PersonaServices])],\n    decls: 3,\n    vars: 3,\n    consts: [[\"class\", \"col-lg-12\", 4, \"ngIf\"], [\"class\", \"col-lg-11\", \"style\", \"margin: 15px\", 4, \"ngIf\"], [\"class\", \"col-lg-11\", \"style\", \"margin: 20px;\", 4, \"ngIf\"], [1, \"col-lg-12\"], [\"id\", \"head-title\", 1, \"head-title\"], [3, \"routerLink\"], [\"aria-hidden\", \"true\"], [1, \"fa\", \"fa-apple\"], [\"id\", \"navigation\", 1, \"navbar\", \"navbar-dark\", \"bg-dark\", \"justify-content-between\"], [1, \"col-lg-1\", 3, \"routerLink\", \"routerLinkActive\"], [1, \"fa\", \"fa-home\"], [\"href\", \"#\", 1, \"col-lg-1\"], [1, \"fa\", \"fa-search\"], [1, \"fa\", \"fa-gear\"], [1, \"fa\", \"fa-cogs\"], [1, \"fa\", \"fa-info\"], [1, \"fa\", \"fa-share\"], [\"href\", \"#\", 1, \"col-lg-1\", 3, \"click\"], [1, \"fa\", \"fa-sign-out\"], [\"id\", \"user_logged\", 1, \"justify-content-between\", 2, \"color\", \"grey\", \"float\", \"right\"], [1, \"usuario-imagen\", 2, \"float\", \"right\"], [3, \"src\"], [\"id\", \"identity_nombre_usuario\", 2, \"color\", \"grey\", \"float\", \"right\"], [2, \"float\", \"right\", 3, \"routerLink\", \"routerLinkActive\"], [1, \"col-lg-11\", 2, \"margin\", \"15px\"], [1, \"col-lg-11\", 2, \"margin\", \"20px\"], [1, \"col-lg-6\"], [4, \"ngIf\"], [1, \"col-md-7\", 3, \"ngSubmit\"], [\"loginForm\", \"ngForm\"], [\"type\", \"email\", \"name\", \"email\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"email\", \"ngModel\"], [\"type\", \"password\", \"name\", \"clave\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"clave\", \"\"], [\"type\", \"submit\", \"value\", \"Entrar\", \"required\", \"\", 1, \"btn\", \"btn-primary\"], [\"registroForm\", \"ngForm\"], [\"type\", \"text\", \"name\", \"nombre\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"nombre\", \"ngModel\"], [\"type\", \"text\", \"name\", \"apellido\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"apellido\", \"ngModel\"], [\"type\", \"date\", \"name\", \"fechaNacimiento\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"fechaNacimiento\", \"ngModel\"], [\"type\", \"text\", \"name\", \"direccion\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"direccion\", \"ngModel\"], [\"type\", \"text\", \"name\", \"telefono\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"telefono\", \"ngModel\"], [\"type\", \"text\", \"name\", \"nombreUsuario\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"nombreUsuario\", \"ngModel\"], [\"type\", \"password\", \"name\", \"password\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"password\", \"ngModel\"], [\"type\", \"text\", \"name\", \"correoElectronico\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"correoElectronico\", \"ngModel\"], [\"type\", \"text\", \"name\", \"rol\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"rol\", \"ngModel\"], [\"type\", \"submit\", \"value\", \"Registrarse\", \"required\", \"\", 1, \"btn\", \"btn-primary\"], [\"role\", \"alert\", 1, \"alert\", \"alert-info\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, AppComponent_div_0_Template, 46, 17, \"div\", 0);\n        i0.ɵɵtemplate(1, AppComponent_div_1_Template, 2, 0, \"div\", 1);\n        i0.ɵɵtemplate(2, AppComponent_div_2_Template, 82, 23, \"div\", 2);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.identity);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.identity);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.identity);\n      }\n    },\n    dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm, i5.RouterOutlet, i5.RouterLink, i5.RouterLinkActive],\n    encapsulation: 2\n  });\n  return AppComponent;\n})();\nexport { AppComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}